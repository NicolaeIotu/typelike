'use strict';require("core-js/modules/es.array.filter");require("core-js/modules/es.array.from");require("core-js/modules/es.array.iterator");require("core-js/modules/es.array.slice");require("core-js/modules/es.object.to-string");require("core-js/modules/es.regexp.to-string");require("core-js/modules/es.string.iterator");require("core-js/modules/web.dom-collections.iterator");var hasOwnProperty=Object.prototype.hasOwnProperty;function xtypeof(o){return Object.prototype.toString.call(o).slice(8,-1).toLowerCase()}function iterationType(o){switch(xtypeof(o)){case"object":return 4;case"array":return 3;case"map":return 2;case"set":return 1;default:return 0;}}var templateSettings={maxDepth:0,properties:{allowMissing:false}};var typelikeSettings=templateSettings;var rtDepth=0;var resetOptions=function resetOptions(){typelikeSettings=templateSettings;rtDepth=0};function compare(o,t){var ito=iterationType(o);var itt=iterationType(t);if(ito!==itt){return false}if(ito!==0){if(typelikeSettings.maxDepth!==0){rtDepth++;if(rtDepth>typelikeSettings.maxDepth){return true}}if(ito>=3){var osize=Object.keys(o).length;var tsize=Object.keys(t).length;if(!typelikeSettings.properties.allowMissing){if(osize===0){return osize===tsize}else if(osize!==tsize){return false}}for(var k in o){if(hasOwnProperty.call(t,k+"")){if(!compare(o[k],t[k])){return false}}else if(!typelikeSettings.properties.allowMissing){return false}}}else{var oKeysSize=o.size;if(!typelikeSettings.properties.allowMissing&&oKeysSize!==t.size){return false}else{if(!typelikeSettings.properties.allowMissing){if(o.size===0){return o.size===t.size}else if(o.size!==t.size){return false}}var oKeysIterator=o.keys();var tKeysIterator=t.keys();if(ito===1){for(var i=0;i<oKeysSize;i++){if(!compare(oKeysIterator.next().value,tKeysIterator.next().value)){return false}}}else{var oValuesIterator=o.values();var tValuesIterator=t.values();for(var _i=0;_i<oKeysSize;_i++){if(oKeysIterator.next().value===tKeysIterator.next().value){if(!compare(oValuesIterator.next().value,tValuesIterator.next().value)){return false}}else{return false}}}}}if(typelikeSettings.maxDepth!==0){rtDepth--}return true}else{return xtypeof(o)===xtypeof(t)}}module.exports.typelike=function(obj,templates){var lastindex=arguments.length-1;if(lastindex<1){throw new Error("At least two parameters required.")}var result=false;for(var i=1;i<=lastindex;i++){result=result||compare(obj,arguments[i])}resetOptions();return result};module.exports.typelikeCustom=function(obj){var lastindex=arguments.length-1;if(lastindex<2){throw new Error("At least three parameters required.")}typelikeSettings=arguments[lastindex];return module.exports.typelike.apply(null,Array.from(arguments).filter(function(e,i){return i!==lastindex}))};
/* typelike is Copyright (C) 2020 Nicolae Iotu, nicolae.g.iotu@gmail.com
Licensed under SPDX Apache-2.0, http://www.apache.org/licenses/LICENSE-2.0 */
